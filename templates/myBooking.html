{% extends 'components/base.html' %} {% load static %} {% block style %}
<link
  rel="stylesheet"
  type="text/css"
  href="{% static 'css/my_booking.css' %}"
/>
{% endblock style %} {% block content %}
<div class="table-container">
  <div class="tab-bar">
    <button class="tab-btn active" data-filter="all">All</button>
    <button class="tab-btn" data-filter="booked">Booked</button>
    <button class="tab-btn" data-filter="completed">Completed</button>
    <button class="tab-btn" data-filter="running">Running</button>
    <button class="tab-btn" data-filter="cancelled">Cancelled</button>
  </div>
  <table>
    <thead>
      <tr>
        <th>Vehicle</th>
        <th>Location</th>
        <th>Pick Up Date</th>
        <th>Drop Off Date</th>
        <th>Cost</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody class="tbody-scroll">
      {% for booking in bookings %}
      <tr>
        <td>{{ booking.vehicle_name }}</td>
        <td>{{ booking.pickup_location }}</td>
        <td>{{ booking.pickup_date }}</td>
        <td>{{ booking.dropoff_date }}</td>
        <td>{{ booking.total_cost }}</td>
        <td>{{ booking.status }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const tabButtons = document.querySelectorAll(".tab-btn");
    const tableRows = document.querySelectorAll("tbody tr");

    tabButtons.forEach(function (button) {
      button.addEventListener("click", function () {
        const filter = button.getAttribute("data-filter");
        tabButtons.forEach(function (btn) {
          btn.classList.remove("active");
        });
        button.classList.add("active");

        tableRows.forEach(function (row) {
          const status = row
            .querySelector("td:nth-child(6)")
            .innerText.toLowerCase();
          if (filter === "all" || status === filter) {
            row.style.display = "table-row";
          } else {
            row.style.display = "none";
          }
        });
      });
    });
  });
</script>
{% endblock content %}
